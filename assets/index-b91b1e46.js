(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".text-interface{padding-left:1em;padding-right:1em;width:100%;height:100%;--offwhite: var(--ti-offwhite, #aaa);--grey: var(--ti-grey, #888);--black: var(--ti-black, #222);--white: var(--ti-white, #fefefe);--font: var(--ti-font, Roboto, sans-serif);--output-font: var(--ti-output-font, monospace);background-color:var(--black, #222);color:var(--white, #fefefe);position:sticky;top:0;max-height:var(--ti-max-height, 90vh);overflow-y:scroll;margin-right:auto;margin-left:auto;max-width:var(--ti-max-width, 28em);min-width:var(--ti-min-width, 20em);font-family:var(--font, Roboto, sans-serif);font-size:var(--ti-font-size, 1em)}.text-interface h2{position:sticky;top:0;background-color:var(--black, #222);margin:0;padding-top:1em;padding-bottom:1em;border-bottom:1px dotted var(--grey, #888)}.text-interface .input-wrap{border:1px dotted var(--grey, #888);padding:1em;margin-top:1em;margin-bottom:1em;opacity:.1;font-family:var(--output-font, monospace)}.text-interface .input-wrap.active{opacity:1}.text-interface .placeholder{font-style:italic;color:var(--offwhite, #aaa)}.output img{margin:1em;max-width:80%;animation:fade-in .5s}.output{font-family:var(--output-font, monospace)}.output.echo{color:var(--ti-echo-color, var(--offwhite, #aaa));font-family:var(--echo-font, var(--output-font, monospace))}@keyframes fade-in{0%{opacity:0;transform:scale(0);transform-origin:top left}to{opacity:1;transform:scale(1)}}.text-interface::-webkit-scrollbar{width:8px}.text-interface::-webkit-scrollbar-track{background:var(--ti-scroll-track-color, var(--black, #222));border-radius:10px}.text-interface::-webkit-scrollbar-thumb{background-color:var(--ti-scroll-thumb-color, var(--grey, #888));border-radius:10px;border:2px solid var(--black, #222)}.text-interface::-webkit-scrollbar-thumb:hover{background-color:var(--ti-scroll-thumb-hover-color, #555)}.text-interface::-webkit-scrollbar-thumb:active{background-color:var(--ti-scroll-thumb-active-color, #333)}")),document.head.appendChild(n)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const h=["yes","yeah","yep","yup","true","t","y","aye","yup"],p=["no","n","false","f","nope","nah"];class c{constructor(t=document.body,e="Text Interface"){this.listener=null,this.outputAnimationLength=800,this.outputDelay=300,this.shouldStealFocus=!1,this.scrollOptions={behavior:"smooth",block:"center",inline:"nearest"},this.outputQueue=[],this.div=document.createElement("div"),this.div.classList.add("text-interface"),t.appendChild(this.div),this.div.innerHTML=`
      <h2 class="ti-title">${e}</h2>
      <div class="output">
      </div>
      <div class="input-wrap">
          <div 
             class="input" 
             contenteditable 
             placeholder="Type here...">
          </div>
          <div class="placeholder">Type and hit return...</div>
      </div>
    `,this.inputWrap=this.div.querySelector(".input-wrap"),this.inputEl=this.div.querySelector(".input"),this.outputEl=this.div.querySelector(".output"),this.placeholderEl=this.div.querySelector(".placeholder"),this.setupInputListener(),this.shouldStealFocus&&this.inputEl.focus()}setTitle(t){this.div.querySelector(".ti-title").textContent=t}clear(){this.outputEl.innerHTML=""}setScrollOptions(t){this.scrollOptions=t}async readChoice(t,e="Choose one of the following:",o="You must choose one of the options!"){this.output(e);for(let i=0;i<t.length;i++)this.output(`${i+1}. ${t[i]}`);let r=await this.readText();if(t.indexOf(r)>-1)return r;if(r=r.replace(/\D/g,""),r!=""){let i=Number(r);if(!isNaN(i)&&i<=t.length&&i>0)return t[Math.floor(i)-1]}return this.output(o),await this.readChoice(t,e,o)}async readYesOrNo(t="Say yes or no!"){let e=await this.readText();return e=e.toLowerCase(),e=e.replace(/\s+/,""),h.indexOf(e)>-1?!0:p.indexOf(e)>-1?!1:(this.output(t),await this.readYesOrNo(t))}async readNumber(t="Please type a number"){let e=await this.readText(),o=Number(e);return isNaN(o)?(this.output(t),this.readNumber(t)):o}async readInteger(t="Please type a whole number"){let e=await this.readText(),o=Number(e);return isNaN(o)||o%1!=0?(this.output(t),this.readInteger(t)):o}async readIntegerInRange(t,e,o=`Please type a whole number within the range of ${t} and ${e}`){let r=await this.readText(),i=Number(r);return isNaN(i)||i%1!=0||i>e||i<t?(this.output(o),await this.readIntegerInRange(t,e,o)):i}async readNumberInRange(t,e,o=`Please type a whole number within the range of ${t} and ${e}`){let r=await this.readText(),i=Number(r);return isNaN(i)||i>e||i<t?(this.output(o),await this.readNumberInRange(t,e,o)):i}readText(){return this.shouldStealFocus&&this.inputEl.focus(),this.inputWrap.classList.add("active"),this.inputWrap.scrollIntoView(this.scrollOptions),new Promise((t,e)=>{this.listener=t})}prompt(t){return this.output(t),this.readText()}promptYesOrNo(t){return this.output(t),this.readYesOrNo()}promptNumber(t,e){return this.output(t),this.readNumber(e)}promptInteger(t,e){return this.output(t),this.readInteger(e)}promptNumberInRange(t,e,o,r){return this.output(t),this.readNumberInRange(e,o,r)}promptIntegerInRange(t,e,o,r){return this.output(t),this.readIntegerInRange(e,o,r)}showElement(t){this.outputting?this.outputQueue.push(["element",t]):(this.outputting=!0,this.outputEl.appendChild(t),t.scrollIntoView(this.scrollOptions),setTimeout(()=>{this.outputting=!1,this.doNextOutput()},this.outputDelay))}showHTML(t){let e=document.createElement("div");e.innerHTML=t,this.showElement(e)}showImage(t,e="An image"){let o=document.createElement("img");o.setAttribute("src",t),o.setAttribute("alt",e),this.showElement(o)}output(t,e=!1){if(t=""+t,this.outputting)this.outputQueue.push(["text",t,e]);else{let o=document.createElement("div");if(o.classList.add("output"),e&&o.classList.add("echo"),!this.outputAnimationLength||e)o.textContent=t;else{this.outputting=!0;let r=this.outputAnimationLength/t.length;const i=()=>{if(t[0]===`
`){const a=document.createElement("br");o.appendChild(a)}else{const a=document.createTextNode(t[0]||"");o.appendChild(a)}t=t.substring(1),t.length?setTimeout(i,r):(this.outputting=!1,this.doNextOutput())};setTimeout(i,this.outputDelay)}this.outputEl.appendChild(o),o.scrollIntoView(this.scrollOptions)}}doNextOutput(){if(this.outputQueue.length){let t=this.outputQueue[0];this.outputQueue=this.outputQueue.slice(1);let e=t[0],o=t.slice(1);e=="text"?this.output(...o):this.showElement(...o)}}setupInputListener(){this.inputEl.addEventListener("keyup",t=>{if(t.code=="Enter"||t.key=="Enter"){let e=this.inputEl.textContent.replace(/\n$/,"");this.output(e,!0),this.listener&&(this.listener(e),this.listener=null),this.inputWrap.classList.remove("active"),setTimeout(()=>{this.inputEl.textContent=""},1)}}),this.placeholderEl.addEventListener("click",()=>this.inputEl.focus())}}let d=document.querySelector("#app"),s=new c(d,"MS-DOS Helper Program");s.output("Welcome to the MS-DOS Helper Program!");let l=!0,u=!1;for(;l;){let n=await s.prompt("How can I help?");n==="DOS"||n==="dos"||n==="Dos"?(s.output("Go use something modern like Windows NT or Linux, or god forbid MacOS"),s.output("get outta here!"),s.output("(It is now safe to turn off your computer)"),l=!1):s.output("Your message must include the word DOS")}help.toLowerCase().includes("fuck")&&(u=!0,u&&(s.output("Rude! I'm just trying to help!"),s.output("I expect an apology from you right this instant!"),(await s.prompt("Do you apologize?")).toLowerCase().includes("yes")&&(u=!1,s.output("Thank you for your apology."))));
